import { Ticket } from "./ticket";

test("Test ticket:", () => {
  let expectedToken = new Uint8Array([
    213,
    132,
    113,
    225,
    37,
    37,
    160,
    13,
    148,
    229,
    56,
    218,
    115,
    1,
    210,
    66,
    139,
    49,
    12,
    110,
    98,
    125,
    191,
    231,
    51,
    72,
    235,
    166,
    185,
    76,
    66,
    238,
  ]);
  let input = new Uint8Array([
    255,
    255,
    213,
    132,
    113,
    225,
    37,
    37,
    160,
    13,
    148,
    229,
    56,
    218,
    115,
    1,
    210,
    66,
    139,
    49,
    12,
    110,
    98,
    125,
    191,
    231,
    51,
    72,
    235,
    166,
    185,
    76,
    66,
    238,
  ]);

  let ticket = new Ticket();
  ticket.ParseBytes(input);
  expect(ticket).not.toBeNull();
  expect(ticket.ID).toBe(65535);
  expect(ticket.Token).toEqual(expectedToken);
});
